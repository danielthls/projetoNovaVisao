unit UfrmSistema;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes,
  System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.Objects,
  FMX.StdCtrls, FMX.ListBox, FMX.Edit, FMX.Controls.Presentation, FMX.Layouts,
  FMX.MultiView, UService.Imagem;

type
  TForm2 = class(TForm)
    rectPrincipal: TRectangle;
    btnMenu: TSpeedButton;
    lytContainer: TLayout;
    imgNovaVisao: TImage;
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    edtCliente: TEdit;
    edtCaminhoIMG: TEdit;
    cmbVariacoes: TComboBox;
    btnBuscar: TButton;
    btnProcurar: TButton;
    rectAvancar: TRectangle;
    Label4: TLabel;
    MultiView1: TMultiView;
    Rectangle1: TRectangle;
    lytLogo: TLayout;
    imgLogo: TImage;
    lstMenu: TListBox;
  private
    { Private declarations }
    procedure btnProcurarClick(Sender: TObject);
    procedure btnBuscarClick(Sender: TObject);
    procedure lstMenuItemClick(const Sender: TCustomListBox;
      const Item: TListBoxItem);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure rectAvancarClick(Sender: TObject);
  public
    { Public declarations }
    procedure AbrirCadastro;
    procedure AbrirEnviar;
  end;

var
  Form2: TForm2;

implementation

uses
  UUtils.Enum, UfrmEnviar;

{$R *.fmx}
{ TForm2 }

procedure TForm2.AbrirCadastro;
begin
  ShowMessage('Teste');
end;

procedure TForm2.AbrirEnviar;
begin
  if not Assigned(frmEnviar) then
  begin
    Application.CreateForm(TfrmEnviar, frmEnviar);
  end;
  frmEnviar.Show();
end;

procedure TForm2.btnBuscarClick(Sender: TObject);
begin
  // Buscar Cliente no Banco utilizando como referencia texto do edtCliente
end;

procedure TForm2.btnProcurarClick(Sender: TObject);
var
  xImagem: TServiceImagem;
begin
  xImagem := TServiceImagem.Create;
  xImagem.CarregarImagem;
  edtCaminhoIMG.Text := xImagem.CaminhoImagem;

end;

procedure TForm2.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  Action := TCloseAction.caFree;
  frmHome := nil;
end;

procedure TForm2.lstMenuItemClick(const Sender: TCustomListBox;
  const Item: TListBoxItem);
begin

  case TEnumMenu(Item.Index) of
    mnuHome:
      ShowMessage('home');
    mnuCadastrar:
      ShowMessage('cadastrar');
    mnuSair:
      Self.Close;
  end;

  MultiView1.HideMaster;
end;

procedure TForm2.rectAvancarClick(Sender: TObject);
begin
  Self.AbrirEnviar;
end;

end.
